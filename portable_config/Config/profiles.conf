### 文档_ https://github.com/hooke007/MPV_lazy/blob/main/portable_config/profiles.conf

 ##############
 # 配置预设组 #
 ##############

[ontop_playback]
 profile-desc    = 暂停时取消置顶
 profile-cond    = pause
 profile-restore = copy
 ontop           = no

[vsync_auto]
 profile-desc = 基于刷新率或帧率的同步模式
 profile-cond = p.display_fps>122 or p.container_fps>32
 profile-restore = copy
 interpolation = no
 video-sync = audio

[deband_bitrate]
 profile-desc = 基于码率的自动去色带
 profile-cond =  p["height"] <= 1080 and p.duration<=3000
 profile-restore = copy
 deband = no
 glsl-shaders-pre=~~/shaders/other/hdeband.glsl
 

 
[audio-filter]
 profile-desc=音频通道大于2时开启动态范围调节滤镜，适用于双通道设备
 profile-cond=p["audio-params/channel-count"] > 2
 profile-restore=copy-equal
 af-pre=@dynaudnorm:lavfi=[dynaudnorm=g=5:f=250:r=0.9:p=0.5]
 
[low-res]
profile-cond=width * height <= 1280 * 720
profile-restore=copy



[Anime]
profile-cond=require 'mp.utils'.join_path(working_directory, path):match('\\Anime\\') ~= nil
profile-restore = copy-equal
glsl-shaders-append=~~/shaders/Anime4K/Anime4K_Darken_HQ.glsl
glsl-shaders-append=~~/shaders/Anime4K/Anime4K_Thin_HQ.glsl
glsl-shaders-append=~~/shaders/Anime4K/Anime4K_Denoise_Bilateral_Mode.glsl
glsl-shaders-append=~~/shaders/Anime4K/Anime4K_Deblur_DoG.glsl
##########
#   HDR  #
##########




[NNEDI3]
 profile-desc=适用于大多数场景
 glsl-shaders="~~/shaders/nnedi3/nnedi3-nns32-win8x4.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[NNEDI3+]
 profile-desc=适用于低解析场景
 glsl-shaders="~~/shaders/nnedi3/nnedi3-nns64-win8x4.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[AMD-FSR_EASU]
 profile-desc=适用于大多数场景
 glsl-shaders="~~/shaders/igv/KrigBilateral.glsl;~~/shaders/AMD-FSR/AMD-FSR-EASU_rgb.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[Normal]
 profile-desc=适用于HD场景
 glsl-shaders="~~/shaders/igv/FSRCNNX_x2_8-0-4-1.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[Normal+]
 profile-desc=适用于低解析场景
 glsl-shaders="~~/shaders/igv/FSRCNNX_x2_16-0-4-1_enhance.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[Anime]
 profile-desc=适用于HD动画
 glsl-shaders="~~/shaders/igv/FSRCNNX_x2_8-0-4-1_LineArt.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[Anime+]
 profile-desc=适用于低解析动画
 glsl-shaders="~~/shaders/igv/FSRCNNX_x2_16-0-4-1_anime_enhance.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[ravu]
 profile-desc=适用于大多数动画
 glsl-shaders="~~/shaders/ravu/ravu-r4.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[ravu-3x]
 profile-desc=适用于低解析动画
 glsl-shaders="~~/shaders/ravu/ravu-3x-r4.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[ravu-zoom]
 profile-desc=适用于大多数场景
 glsl-shaders="~~/shaders/ravu/ravu-zoom-r3.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[ravu-lite]
 profile-desc=适用于大多数场景
 glsl-shaders="~~/shaders/ravu/ravu-lite-r4.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[ACNet]
 profile-desc=适用于低解析动画
 glsl-shaders="~~/shaders/ACNet/ACNet.glsl;~~/shaders/ACNet/ACNet.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[ACNet+]
 profile-desc=适用于低解析动画-强化降噪
 glsl-shaders="~~/shaders/ACNet/ACNet_HDN_L1.glsl;~~/shaders/ACNet/ACNet.glsl;~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"

[Anime4K]
 profile-desc=Anime4K
 glsl-shaders="~~/shaders/igv/KrigBilateral.glsl;~~/shaders/Anime4K/Anime4K_Restore_CNN_Soft_M.glsl;~~/shaders/Anime4K/Anime4K_Clamp_Highlights.glsl;~~/shaders/other/antiring.glsl"

[Anime4K+]
 profile-desc=Anime4K+
 glsl-shaders="~~/shaders/igv/KrigBilateral.glsl;~~/shaders/Anime4K/Anime4K_Restore_CNN_Soft_VL.glsl;~~/shaders/Anime4K/Anime4K_Clamp_Highlights.glsl;~~/shaders/other/antiring.glsl"

[Blur2Sharpen]
 profile-desc=劣化较少的抗锯齿方案
 glsl-shaders="~~/shaders/igv/KrigBilateral.glsl;~~/shaders/other/unsharp-masking_blur.glsl;~~/shaders/Anime4K/Anime4K_Deblur_DoG.glsl;~~/shaders/Anime4K/Anime4K_Darken_HQ.glsl;~~/shaders/Anime4K/Anime4K_Thin_HQ.glsl;~~/shaders/Anime4K/Anime4K_Clamp_Highlights.glsl"

[SSIM]
 profile-desc=适用于4k低性能
 glsl-shaders="~~/shaders/igv/KrigBilateral.glsl;~~/shaders/igv/SSimSuperRes.glsl;~~/shaders/igv/SSimDownscaler.glsl"
 
##⇘⇘以下为常规配置组启用参数，视需求选择使用
#profile=ICC                                  # icc色彩管理配置组，由操作系统的显示设置指定的 ICC 显示配置文件
#profile=ICC+                                 # icc色彩管理配置组，使用 color.org 提供的泛icc配置文件或专业校色文件，自行选择显示器对应色域的icc配置文件
#profile=Target                                # target色彩管理配置组，不可与icc色彩管理共存
#profile=Dither                                # 抖动算法配置组（fruit），效果接近error-diffusion，耗能较低
#profile=Dither+                              # 抖动算法配置组（error-diffusion），误差扩散的色深抖动算法，效果最好也最耗能
#profile=Tscale                                # [启用前须先注释 --tscale=<value>] 时域插值算法，具体参数见下方配置区的同名配置
#profile=Tscale+                              # [启用前须先注释 --tscale=<value>] 备选的时域插值算法，具体参数见下方配置区的同名配置
#profile=HQ                                    # 最常用的内置算法配置组
#profile=DeBand-low                           # [启用前需先注释 --deband] 预设的去色带方案，具体参数见下方配置区的同名配置，接近madvr的deband设为low，使用low时已有很好的效果
#profile=DeBand-medium                         # [启用前需先注释 --deband] 备选的去色带方案，具体参数见下方配置区的同名配置，接近madvr的deband设为medium
#profile=DeBand-high                          # [启用前需先注释 --deband] 备选的去色带方案，具体参数见下方配置区的同名配置，接近madvr的deband设为high
#profile=HDR-PASS                             # HDR直通参数配置组，目前只能在初始化时设置，HDR直通时需禁用--icc-profile,icc-profile-auto和--target-trc参数。--vo=gpu-next --gpu-api=vulkan下和全屏（Windows的限制）时可用，--gpu-api=d3d11下需手动切换显示器HDR模式（Windows的限制）
#profile=SDR2HDR                              # SDR映射HDR参数配置组，仅在hdr设备上有效，不推荐启用。仅限--vo=gpu-next下可用
#profile=HDR2SDR                               # HDR映射参数配置组
#profile=SWscaler                             # 备选的软件缩放方案

## 以下为着色器配置组，可按需启用以下所需任一配置组（这将覆盖上面的--glsl-shaders-append参数）
#profile=NNEDI3                                # 适用于大多数场景（NNEDI3-32）               ## 绝大多数场景表现良好，对场景的适应性优于FSRCNNX配置（抑制锯齿和振铃伪影）。喜欢通用性的优先使用此配置组
#profile=NNEDI3+                              # 适用于低解析场景（NNEDI3-64）               ## 理论上NNEDI3-64及以上变体具有更好地抑制振铃伪影效果，但耗能量级倍增，视设备性能自行选择是否使用
#profile=AMD-FSR_EASU                         # 适用于大多数场景（AMD-FSR_EASU）            ## AMD的FSR算法中EASU变体表现良好，相对于FSR和RCAS变体产生更少的振铃伪影，同时有不错的画面效果。放大至目标分辨率
#profile=Normal                               # 适用于HD场景（FSRCNNX）                     ## 效果类似madvr的NGU Sharp，但产生更多振铃伪影，在低解析画面下表现较差
#profile=Normal+                              # 适用于低解析场景（FSRCNNX_enhance）         ## 对低解析度的实拍类图像具有极好的抑制振铃伪影效果
#profile=Anime                                # 适用于HD动画（FSRCNNX_LineArt）             ## 效果类似madvr的NGU AA，但产生更多振铃伪影，在低解析画面下表现较差
#profile=Anime+                               # 适用于低解析动画（FSRCNNX_anime_enhance）   ## 对低解析度的anime类图像具有极好的抑制振铃伪影效果
#profile=ravu                                 # 适用于大多数动画（ravu-r）                  ## 锐利度很好，但会产生振铃伪影
#profile=ravu-zoom                            # 适用于大多数场景（ravu-zoom）               ## 放大到目标分辨率
#profile=ravu-lite                            # 适用于大多数场景（ravu-lite）               ## 最锐利及快速的变体，但会产生更多的振铃伪影
#profile=ravu-3x                              # 适用于低解析动画（ravu-3x）                 ## 效果类似madvr的NGU AA，更适合anime
#profile=ACNet                                # 适用于低解析动画（ACNet）
#profile=ACNet+                               # 适用于低解析动画（ACNet降噪方案）
#profile=Anime4K                              # 适用于大多数动画（Anime4k去伪影抗锯齿）     ## 对锯齿振铃等瑕疵可以起到较好的抑制效果，仍有明显感知度的涂抹劣化
#profile=Anime4K+                             # 适用于低解析动画（Anime4k高强度抗锯齿）     ## 对anime类图像具有更好的抑制锯齿振铃伪影等瑕疵的效果，强度更高。UL变体实际效果最好，但耗能极高，暂不推荐使用
#profile=Blur2Sharpen                         # Blur+Anime4k的抗锯齿方案                    ## 使用Blur着色器来处理锯齿和伪影等瑕疵，再通过Anime4k去糊+深线+收线等操作来补偿糊化处理的清晰度损失。对抑制瑕疵具有较好的表现，同时引入的劣化较少。仍不可避免地使画面文字模糊
#profile=SSIM                                 # 适用于低性能消耗

##############
# 常规配置组 #
##############

##⇘⇘常规配置没有自动触发条件（内置配置组也全为常规配置）
##需要主设置文件中使用 --profile=<profile1,profile2,...> 或多行 --profile=<xxx> 参数激活数个配置

[ICC]
 icc-profile=""
 icc-profile-auto
 icc-intent=0
 icc-force-contrast=1000
 icc-3dlut-size=64x64x64
 icc-cache-dir="~~/cache/icc_cache"

[ICC+]
 icc-profile="~~/icc/ITU-RBT709ReferenceDisplay.icc"
 icc-intent=0
 icc-force-contrast=no
 icc-3dlut-size=64x64x64
 icc-cache-dir="~~/cache/icc_cache"

[Target]
 icc-profile=""
 icc-profile-auto=no
 target-prim=auto
 target-trc=gamma2.2
 target-peak=auto

[Dither]
 dither-depth=8
 dither=fruit
 dither-size-fruit=6

[Dither+]
 dither-depth=8
 dither=error-diffusion
 error-diffusion=floyd-steinberg

[Tscale]
 video-sync=display-resample
 #video-sync-max-video-change=5
 interpolation
 #interpolation-preserve=no
 tscale=oversample

[Tscale+]
 video-sync=display-resample
 #video-sync-max-video-change=5
 interpolation
 #interpolation-preserve=no
 tscale=sphinx
 tscale-blur=0.65

[HQ]
 scale=ewa_hanning
 cscale=bilinear
 dscale=ewa_hanning
 linear-upscaling=no
 sigmoid-upscaling=no
 correct-downscaling=yes
 linear-downscaling=no
 deband=no

[DeBand-low]
 profile-desc=DeBand low
 deband-iterations=1
 deband-threshold=64
 deband-range=16
 deband-grain=48

[DeBand-medium]
 profile-desc=deband medium
 deband-iterations=2
 deband-threshold=64
 deband-range=16
 deband-grain=48

[DeBand-high]
 profile-desc=deband high
 deband-iterations=3
 deband-threshold=64
 deband-range=16
 deband-grain=48

[HDR-PASS]
 profile-desc=HDR直通参数
 target-colorspace-hint=yes

[SDR2HDR]
 profile-desc=SDR反向映射HDR参数
 inverse-tone-mapping=yes

[HDR2SDR]
 profile-desc=HDR-SDR映射参数
 tone-mapping=auto
 #tone-mapping-param=2.0
 #tone-mapping-max-boost=1.0
 tone-mapping-mode=auto
 gamut-mapping-mode=clip
 hdr-compute-peak=auto
 hdr-contrast-recovery=0.30
 #hdr-contrast-smoothness=3.5
 #hdr-peak-decay-rate=100
 #hdr-scene-threshold-low=5.5
 #hdr-scene-threshold-high=10
 allow-delayed-peak-detect=no
